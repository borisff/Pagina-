webpackJsonp([104],{"3y4R":function(e,t){},dqxi:function(e,t,r){"use strict";function n(e){var t=["TO W","EW W","SV W","TSA W","HU W","TY W","HI W","HF W","MA W","TR W","TI W","TS W","BZ W","WS W","LE W","IS W","DS W","AF W","EC W","WC W","EH W","FF W","FL W","FA W","CF W","LS W","TEM TB"],r=e.phenomena+" "+e.significance,n=t.indexOf(r);return-1===n&&(n=t.length),n}function a(e){var t,r,n;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.selectors,r=e.actions,a.next=3,Object(X.select)(t.isDataLoaded,_);case 3:if(n=a.sent){a.next=11;break}return a.next=7,Object(X.call)(Y.d,e);case 7:return a.next=9,Object(X.call)(c,e);case 9:return a.next=11,Object(X.put)(r.setDataLoaded(_,!0));case 11:return a.next=13,Object(X.spawn)(i,e);case 13:case"end":return a.stop()}},ae,this)}function c(e){var t,r,n,a,c,o,i=e.selectors,l=e.props,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.geocodeSelector,d=void 0===u?Object(v.getGeocodeSelector)():u,p=s.timezoneSelector,m=void 0===p?Object(v.getIanaTimeZoneSelector)():p;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=l.providers,e.next=4,Object(X.select)(i.transactionIdSelector);case 4:return r=e.sent,e.next=7,Object(X.select)(d);case 7:return n=e.sent,e.next=10,Object(X.select)(b.localeSelector);case 10:return a=e.sent,e.next=13,Object(X.select)(K.unitSelector);case 13:return c=e.sent,e.next=16,Object(X.select)(m);case 16:return o=e.sent,e.next=19,[Object(X.call)(V.getModelData,{modelName:"CurrentDateTime",params:{timezone:o},method:"execute",providers:t,transactionId:r,ttl:60}),Object(X.call)(V.getModelData,{modelName:"DateTime",params:{ianaTimeZone:o},method:"execute",providers:t,transactionId:r}),Object(X.call)(V.getModelData,{modelName:"Observation",params:{geocode:n,units:c,language:a},method:"execute",providers:t,transactionId:r}),Object(X.call)(V.getModelData,{modelName:"DailyForecast",params:{geocode:n,units:c,language:a},method:"execute",providers:t,transactionId:r})];case 19:e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(0),e.t0.message.includes("API call error")){e.next=25;break}throw e.t0;case 25:case"end":return e.stop()}},ce,this,[[0,21]])}function o(e){var t=e.props,r=e.selectors;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.call)(Y.b,{props:t,selectors:r});case 2:return e.next=4,Object(X.call)(c,{props:t,selectors:r});case 4:case"end":return e.stop()}},oe,this)}function i(e){var t;return j.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(X.fork)(l,e);case 2:return t=r.sent,r.next=5,Object(X.take)(Q.LOCATION_CHANGE);case 5:return r.next=7,Object(X.cancel)(t);case 7:case"end":return r.stop()}},ie,this)}function l(e){var t=e.props,r=e.selectors;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.takeEvery)(K.CHANGE_UNIT,o,{props:t,selectors:r});case 2:case"end":return e.stop()}},le,this)}function s(e,t,r){var n=u(t);return{alertCount:e.length+(n?1:0),alerts:e,pollenAlertFlag:n,timeZoneAbbreviation:r}}function u(e){if(e&&e.length>0){var t=e[0];if(Math.max(t.tree,t.grass,t.weed)>=re)return!0}return!1}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case ne:return Se()({},e,{tomorrowTickerRendered:!0});default:return e}}function p(e){return{type:ne,payload:{trackString:e}}}Object.defineProperty(t,"__esModule",{value:!0});var m={};r.d(m,"REDUCER_KEY",function(){return _}),r.d(m,"TREE",function(){return q}),r.d(m,"GRASS",function(){return $}),r.d(m,"WEED",function(){return ee}),r.d(m,"POLLEN_SEVERITY",function(){return te}),r.d(m,"POLLEN_ALERT_TRIGGER_VALUE",function(){return re}),r.d(m,"TOMORROW_TICKER_RENDERED",function(){return ne});var g={};r.d(g,"default",function(){return a}),r.d(g,"loadAlerts",function(){return c}),r.d(g,"loadSevereAlertBarData",function(){return o}),r.d(g,"watchChangeUnit",function(){return i}),r.d(g,"watchSaga",function(){return l}),r.d(g,"transformAlerts",function(){return s});var f={};r.d(f,"createDeepEqualSelector",function(){return se}),r.d(f,"getIsValidLocaleSelector",function(){return ue}),r.d(f,"getIsValidPageKeySelector",function(){return de}),r.d(f,"severeAlertBarSelector",function(){return pe}),r.d(f,"alertCountSelector",function(){return me}),r.d(f,"severeAlertsSelector",function(){return ge}),r.d(f,"pollenAlertFlagSelector",function(){return fe}),r.d(f,"tomorrowTickerDataSelector",function(){return Ie});var I={};r.d(I,"tomorrowTickerRendered",function(){return p});var M=r("Xxa5"),j=r.n(M),C=r("exGp"),w=r.n(C),S=r("4n+p"),T=r("2KeS"),L=r("Evp+"),b=r("SIlE"),v=r("iajE"),y=r("KRsB"),x=r("NaZY"),N=r("Zrlr"),E=r.n(N),O=r("zwoO"),h=r.n(O),D=r("Pf15"),k=r.n(D),A=r("iTcp"),R=r.n(A),Z=r("HW6M"),z=r.n(Z),G=r("7dDy"),P=r("r0VU"),W=(r("3y4R"),function(e){function t(r){E()(this,t);var n=h()(this,e.call(this,r));return n.severeAlertMarkup=function(e,t){return R.a.createElement("div",{role:"banner","aria-label":t("common~Severe Alerts"),className:"SevereAlertBar",key:"severe-alert-bar"},R.a.createElement("div",{className:"dropdown"},R.a.createElement("div",{className:z()("priority","bg-alert-"+e[0].severity)},1===e.length?null:R.a.createElement("div",{key:"other-alerts",className:"dropdown"+(n.state.showDropdown?" open":"")},R.a.createElement("button",{className:z()("dropdown-toggle","alert-invert-color"),onClick:n.toggleDropdown},R.a.createElement(P.Icon,{iconSet:"ui",iconName:"severe-alert"}),R.a.createElement("span",null,e.length),R.a.createElement(P.Icon,{iconSet:"arrows",iconName:"arrow-"+(n.state.showDropdown?"up":"down")+"-triangle"})),R.a.createElement("ul",{className:z()("dropdown-menu","list-group")},e.filter(function(e,t){return 0!==t}).map(function(e){return R.a.createElement("li",{key:e.title},n.getAlertMarkup(e,t))}))),R.a.createElement("div",{className:"gm-alerts-time"},n.getAlertMarkup(e[0],t)))))},n.toggleDropdown=function(){n.setState({showDropdown:!n.state.showDropdown})},n.state={showDropdown:!1},n}return k()(t,e),t.prototype.getTimeString=function(e,t,r,n){var a="h:mma z, EEE MMM d",c="";return e&&t?c=n("common~fromStartUntilEndTime",{startTime:Object(G.default)(n,e,r,a),endTime:Object(G.default)(n,t,r,a)}):e?c=n("common~fromStartTime",{startTime:Object(G.default)(n,e,r,a)}):t&&(c=n("common~untilEndTime",{endTime:Object(G.default)(n,t,r,a)})),c},t.prototype.getAlertMarkup=function(e,t){var r="weather"===e.iconSet?R.a.createElement("span",{className:"weatherIcon"},R.a.createElement(P.Icon,{iconSet:e.iconSet||"ui",iconName:e.icon,key:"icon"})):R.a.createElement(P.Icon,{iconSet:e.iconSet||"ui",iconName:e.icon,key:"icon"}),n=R.a.createElement("div",{className:z()("title","text","text-overflow")},e.icon?r:null,e.title?R.a.createElement("span",{key:"title",className:"warning-text"},t("common~"+e.title)):null,e.message?R.a.createElement("span",{key:"message",className:z()("message","warning-text")},t("common~"+e.message)):null,e.cta?R.a.createElement("span",{key:"cta",className:z()("cta","warning-text")},t("common~"+e.cta)):null,e.sub?R.a.createElement("span",{key:"timestamp",className:"timestamp"},e.sub):null);return R.a.createElement("a",{className:"bg-alert-"+e.severity,href:e.url,title:e.title,key:"anchor_"+e.title,"data-from-string":e.trackString||!1},n)},t.prototype.mapTeaserMarkup=function(e,t,r,n){var a=e.condition,c=e.current,o=c?t("partnerMap~currentActionDetail",{"weather condition":a}):t("partnerMap~forecastedActionDetail",{"weather condition":a}),i=t("partnerMap~View Radar");return R.a.createElement("div",{className:z()("SevereAlertBar","MapTeaser"),key:"map-teaser"},R.a.createElement("div",{className:"teaser"},R.a.createElement("a",{className:"teaser-link",href:n+"/weather/radar/interactive/l/"+r,"data-from-string":"MapTeaser-viewRadar"},R.a.createElement("div",{className:z()("teaser-text","text-overflow")},R.a.createElement("img",{className:"teaser-icon",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KP\nCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIwLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluI\nC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9Ikxhe\nWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6L\ny93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MCA1M\nCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTAgNTA7IiB4bWw6c3BhY2U9InByZXNlc\nnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7Y2xpcC1wYXRoOnVybCgjU1ZHSURfMl8pO\n30KCS5zdDF7Y2xpcC1wYXRoOnVybCgjU1ZHSURfNF8pO2ZpbGw6IzE5MzY1Nzt9Cgkuc3Qye2ZpbGw6b\nm9uZTtzdHJva2U6IzI2ODJDNTtzdHJva2Utd2lkdGg6Mi41O3N0cm9rZS1taXRlcmxpbWl0OjEwO30KC\nS5zdDN7Y2xpcC1wYXRoOnVybCgjU1ZHSURfNl8pO30KCS5zdDR7Y2xpcC1wYXRoOnVybCgjU1ZHSURfO\nF8pO2ZpbGw6I0ZGRkZGRjt9Cgkuc3Q1e2NsaXAtcGF0aDp1cmwoI1NWR0lEXzEwXyk7fQoJLnN0Nntjb\nGlwLXBhdGg6dXJsKCNTVkdJRF8xMl8pO2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxnPgoJPGRlZnM+C\ngkJPHBhdGggaWQ9IlNWR0lEXzFfIiBkPSJNNS4yLDI0LjdjMC0xMC42LDguNy0xOS4xLDE5LjMtMTkuM\nXMxOS4zLDguNiwxOS4zLDE5LjFzLTguNywxOS4xLTE5LjMsMTkuMVM1LjIsMzUuMiw1LjIsMjQuN3oiL\nz4KCTwvZGVmcz4KCTxjbGlwUGF0aCBpZD0iU1ZHSURfMl8iPgoJCTx1c2UgeGxpbms6aHJlZj0iI1NWR\n0lEXzFfIiAgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7Ii8+Cgk8L2NsaXBQYXRoPgoJPGcgY2xhc3M9I\nnN0MCI+CgkJPGRlZnM+CgkJCTxyZWN0IGlkPSJTVkdJRF8zXyIgeD0iLTAuMyIgeT0iLTEuMyIgd2lkd\nGg9IjUwLjYiIGhlaWdodD0iNTEuMyIvPgoJCTwvZGVmcz4KCQk8Y2xpcFBhdGggaWQ9IlNWR0lEXzRfI\nj4KCQkJPHVzZSB4bGluazpocmVmPSIjU1ZHSURfM18iICBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTsiL\nz4KCQk8L2NsaXBQYXRoPgoJCTxyZWN0IHg9IjEuNCIgeT0iMS44IiBjbGFzcz0ic3QxIiB3aWR0aD0iN\nDYuMiIgaGVpZ2h0PSI0NS44Ii8+Cgk8L2c+CjwvZz4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNN\nS4yLDI0LjdjMC0xMC42LDguNy0xOS4xLDE5LjMtMTkuMXMxOS4zLDguNiwxOS4zLDE5LjFzLTguNywxO\nS4xLTE5LjMsMTkuMVM1LjIsMzUuMiw1LjIsMjQuN3oiLz4KPC9nPgo8Zz4KCTxkZWZzPgoJCTxwYXRoI\nGlkPSJTVkdJRF81XyIgZD0iTTI2LDE2LjZjMC0wLjItMC4yLTAuMy0wLjQtMC4zaC03LjFjLTAuMiwwL\nTAuMywwLjEtMC40LDAuMmwtMi44LDcuOGMwLDAsMCwwLjEsMCwwLjEKCQkJYzAsMC4yLDAuMiwwLjMsM\nC40LDAuM2gyLjZsLTIuNSw3aDBjMCwwLDAsMC4xLDAsMC4xYzAsMC4zLDAuMywwLjYsMC43LDAuNmMwL\njMsMCwwLjUtMC4xLDAuNi0wLjNsMCwwbDguMi0xMC43aDAKCQkJYzAsMCwwLTAuMSwwLTAuMWMwLTAuM\ni0wLjItMC4zLTAuNC0wLjNjMCwwLDAsMCwwLDB2MGgtMi41bDMuMy00LjRDMjYsMTYuNywyNiwxNi42L\nDI2LDE2LjYiLz4KCTwvZGVmcz4KCTxjbGlwUGF0aCBpZD0iU1ZHSURfNl8iPgoJCTx1c2UgeGxpbms6a\nHJlZj0iI1NWR0lEXzVfIiAgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7Ii8+Cgk8L2NsaXBQYXRoPgoJP\nGcgY2xhc3M9InN0MyI+CgkJPGRlZnM+CgkJCTxyZWN0IGlkPSJTVkdJRF83XyIgeD0iLTAuMyIgeT0iL\nTEuMyIgd2lkdGg9IjUwLjYiIGhlaWdodD0iNTEuMyIvPgoJCTwvZGVmcz4KCQk8Y2xpcFBhdGggaWQ9I\nlNWR0lEXzhfIj4KCQkJPHVzZSB4bGluazpocmVmPSIjU1ZHSURfN18iICBzdHlsZT0ib3ZlcmZsb3c6d\nmlzaWJsZTsiLz4KCQk8L2NsaXBQYXRoPgoJCTxyZWN0IHg9IjExLjYiIHk9IjEyLjUiIGNsYXNzPSJzd\nDQiIHdpZHRoPSIxOC4yIiBoZWlnaHQ9IjIzLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxkZWZzPgoJCTxwY\nXRoIGlkPSJTVkdJRF85XyIgZD0iTTMyLjksMTYuNWwtOC40LDEyLjdjLTAuMSwwLjItMC4zLDAuNC0wL\njMsMC43Yy0wLjQsMS4zLDAuNSwyLjYsMS45LDIuOWMxLjQsMC4zLDIuOS0wLjQsMy4zLTEuN2wyLTYuN\ngoJCQljMCwwLDIuNC03LjcsMi40LTcuN2MwLjEtMC4zLTAuMS0wLjUtMC40LTAuNkMzMy4yLDE2LjIsM\nzMsMTYuMywzMi45LDE2LjUiLz4KCTwvZGVmcz4KCTxjbGlwUGF0aCBpZD0iU1ZHSURfMTBfIj4KCQk8d\nXNlIHhsaW5rOmhyZWY9IiNTVkdJRF85XyIgIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIvPgoJPC9jb\nGlwUGF0aD4KCTxnIGNsYXNzPSJzdDUiPgoJCTxkZWZzPgoJCQk8cmVjdCBpZD0iU1ZHSURfMTFfIiB4P\nSItMC4zIiB5PSItMS4zIiB3aWR0aD0iNTAuNiIgaGVpZ2h0PSI1MS4zIi8+CgkJPC9kZWZzPgoJCTxjb\nGlwUGF0aCBpZD0iU1ZHSURfMTJfIj4KCQkJPHVzZSB4bGluazpocmVmPSIjU1ZHSURfMTFfIiAgc3R5b\nGU9Im92ZXJmbG93OnZpc2libGU7Ii8+CgkJPC9jbGlwUGF0aD4KCQk8cmVjdCB4PSIyMC4zIiB5PSIxM\ni41IiBjbGFzcz0ic3Q2IiB3aWR0aD0iMTcuMyIgaGVpZ2h0PSIyNC4yIi8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==",alt:"Weather alert icon"}),R.a.createElement("span",{className:"text"},o,R.a.createElement("span",{className:"link"}," ",i))))))},t.prototype.shouldUseMapTeaserBar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props,r=t.partner,n=t.shouldPartnerMapRender;return"no_par"!==r&&!0===n&&(!(e.length>0)||1!==e[0].severity&&2!==e[0].severity)},t.prototype.mapSeverityCode=function(e){return e=Math.max(e,1),Math.min(e,4)},t.prototype.sortAlerts=function(e,t){var r=0;return 0!==(r=1===e.severity&&1===t.severity?n(e)-n(t):e.severity-t.severity)?r:(e.issueTime&&t.issueTime&&(r=t.issueTime.localeCompare(e.issueTime)),0!==r?r:(e.endTime&&t.endTime&&(r=t.endTime.localeCompare(e.endTime)),r))},t.prototype.render=function(){var e=this,t=this.props,r=t.t,n=t.alerts,a=t.pollenAlertFlag,c=t.locale,o=t.placeId,i=t.weatherCondition,l=t.getTranslatedUrl,s=[],u="en-US"===c?"":"/"+c,d=l("alerts",{locale:c,locId:o}),p=null;if(n.filter(function(e){return!!e}).forEach(function(t,n){var a=[d,"?phenomena=",t.phenomena,"&significance=",t.significance,"&areaid=",t.areaId,"&office=",t.officeCode,"&etn=",t.eventTrackingNumber].join(""),c={title:t.eventDescription,sub:e.getTimeString(t.effectiveTimeLocal,t.expireTimeLocal,t.expireTimeLocalTimeZone,r),severity:e.mapSeverityCode(t.severityCode),phenomenaCode:t.phenomena,significanceCode:t.significance,issueTime:t.issueTimeLocal,endTime:t.expireTimeLocal,message:t.message,icon:t.icon,trackString:"Link"+n,url:a};s.push(c)}),s.sort(this.sortAlerts),a){var m={title:r("Local Pollen Alert"),sub:"",severity:3,url:["en-CA"].includes(c)?null:u+"/forecast/allergy/l/"+o,useLink:!0};s.push(m)}return p=this.shouldUseMapTeaserBar(s)?this.mapTeaserMarkup(i,r,o,u):0===s.length?null:this.severeAlertMarkup(s,r),R.a.createElement("div",{key:"alerts"},p)},t}(A.PureComponent));W.propTypes={t:A.PropTypes.func.isRequired,alerts:A.PropTypes.array.isRequired,pollenAlertFlag:A.PropTypes.bool,locale:A.PropTypes.string.isRequired,placeId:A.PropTypes.string.isRequired,partner:A.PropTypes.string,shouldPartnerMapRender:A.PropTypes.bool,weatherCondition:A.PropTypes.object,getTranslatedUrl:A.PropTypes.func};var U=W,J=r("bndy"),F=r("hygk"),B=r.n(F),H=r("OKYD"),Y=r("ia+u"),X=r("egdi"),V=r("Tiv6"),K=r("Xvff"),Q=r("M1UM"),_="severeAlertBar",q="tree",$="grass",ee="weed",te=3,re=3,ne="twc/TOMORROW_TICKER_RENDERED",ae=j.a.mark(a),ce=j.a.mark(c),oe=j.a.mark(o),ie=j.a.mark(i),le=j.a.mark(l),se=Object(J.createSelectorCreator)(J.defaultMemoize,B.a),ue=function(){return Object(J.createSelector)(b.localeSelector,function(e){return!0})},de=function(e){return Object(J.createSelector)(e,H.selectors.getSiteMode,function(e,t){return"today"!==e||t!==H.constants.SITE_MODE_SEVERE})},pe=function(e){return Object(J.createSelector)(e.getTimeZoneAbbreviationSelector(),Object(Y.c)(),Object(Y.a)(),function(e,t,r){return s(r,t,e)})},me=function(e){return Object(J.createSelector)(pe(e),function(e){return e.alertCount})},ge=function(e){return Object(J.createSelector)(pe(e),function(e){return e.alerts})},fe=function(e){return Object(J.createSelector)(pe(e),function(e){return e.pollenAlertFlag})},Ie=function(e){return Object(J.createSelector)(e(),function(e){if(e&&e[1]){var t=e[1].day;return{phrase:t.phrase,icon:t.icon}}return{}})},Me=Object(L.translate)(["common","partnerMap"]),je=function(e){var t=e.selectors,r=e.props,n=me(t),a=ge(t),c=fe(t),o=Object(v.getPlaceIdSelector)(),i=t.observationSelector(),l=Object(y.getPartnerSelector)(),s=r.getTranslatedUrl;return Object(S.connect)(function(e){return{alertCount:n(e),alerts:a(e),pollenAlertFlag:c(e),placeId:o(e),locale:Object(b.localeSelector)(e),partner:l(e),shouldPartnerMapRender:Object(x.partnerMapRenderSelector)(e),weatherCondition:Object(x.weatherConditionSelector)(e),observation:i(e),deviceClass:t.deviceClassSelector(e),getTranslatedUrl:s}})},Ce=function(e){return Object(T.compose)(je(e),Me)(U)},we=r("woOf"),Se=r.n(we),Te={tomorrowTickerRendered:!1},Le=function(){function e(e){return t.apply(this,arguments)}var t=w()(j.a.mark(function e(t){var r,n,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.injectReducerWithKey,n=t.runSaga,c=Ce(t),r(_,d),e.next=5,n(a,t).done;case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}},e,this)}));return e}();r.d(t,"loader",function(){return Le}),r.d(t,"container",function(){return Ce}),r.d(t,"reducer",function(){return d}),r.d(t,"actions",function(){return I}),r.d(t,"constants",function(){return m}),r.d(t,"selectors",function(){return f}),r.d(t,"saga",function(){return a}),r.d(t,"sagas",function(){return g}),r.d(t,"SevereAlertBar",function(){return U});t.default=Le},"ia+u":function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case j:return I()({},e,{loading:!0});case C:return I()({},e,{loading:!1,loaded:!0});case w:return I()({},e,{alertCount:0,alerts:[],pollenAlertFlag:!1,loading:!1,loaded:!1,error:t.error});default:return e}}function a(){return{type:j}}function c(){return{type:C}}function o(e){return{type:w,error:e}}function i(e){var t,r=e.actions,n=e.selectors,a=e.props;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.select)(n.isDataLoaded,M);case 2:if(t=e.sent){e.next=8;break}return e.next=6,Object(T.call)(l,{selectors:n,props:a});case 6:return e.next=8,Object(T.put)(r.setDataLoaded(M,!0));case 8:case"end":return e.stop()}},y,this)}function l(e){var t,r,n,i,l,s=e.props,u=e.selectors,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=d.geocodeSelector,g=void 0===m?Object(v.getGeocodeSelector)():m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s.providers,r=u.transactionIdSelector,e.next=5,Object(T.put)(a());case 5:return e.next=7,Object(T.select)(r);case 7:return n=e.sent,e.next=10,Object(T.select)(g);case 10:return i=e.sent,e.next=13,Object(T.select)(b.localeSelector);case 13:return l=e.sent,e.next=16,[Object(T.call)(L.getModelData,{modelName:"Alerts",params:{geocode:i,language:l},method:"execute",providers:t,transactionId:n,ttl:60}),Object(T.call)(L.getModelData,{modelName:"PollenForecast",params:{geocode:i,language:l},method:"execute",providers:t,transactionId:n})];case 16:return e.next=18,Object(T.put)(c());case 18:e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(0),e.next=24,Object(T.put)(o(e.t0));case 24:if(e.t0.message.includes("API call error")){e.next=26;break}throw e.t0;case 26:case"end":return e.stop()}},x,this,[[0,20]])}var s={};r.d(s,"REDUCER_KEY",function(){return M}),r.d(s,"LOAD_ALERTS_PENDING",function(){return j}),r.d(s,"LOAD_ALERTS_SUCCESS",function(){return C}),r.d(s,"LOAD_ALERTS_FAILURE",function(){return w});var u={};r.d(u,"loadAlertsPending",function(){return a}),r.d(u,"loadAlertsSuccess",function(){return c}),r.d(u,"loadAlertsFailure",function(){return o});var d=r("Xxa5"),p=r.n(d),m=r("exGp"),g=r.n(m),f=r("woOf"),I=r.n(f),M="severeAlert",j="twc/LOAD_ALERTS_PENDING",C="twc/LOAD_ALERTS_SUCCESS",w="twc/LOAD_ALERTS_FAILURE",S={alertCount:0,alerts:[],pollenAlertFlag:!1,loading:!1,loaded:!1,error:void 0},T=r("egdi"),L=r("Tiv6"),b=r("SIlE"),v=r("iajE"),y=p.a.mark(i),x=p.a.mark(l),N=function(){function e(e){return t.apply(this,arguments)}var t=g()(p.a.mark(function e(t){var r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.injectReducerWithKey,a=t.runSaga,r(M,n),e.next=4,a(i,t).done;case 4:case"end":return e.stop()}},e,this)}));return e}(),E=r("bndy"),O=r("hygk"),h=r.n(O),D=r("Q7hp"),k=r.n(D),A=Object(E.createSelectorCreator)(E.defaultMemoize,h.a),R=function(){return Object(E.createStructuredSelector)({geocode:Object(v.getGeocodeSelector)(),language:b.localeSelector})},Z=function(){return A(R(),Object(L.dalFactorySelector)("Alerts"),function(e,t){var r=Object(L.getModelInstantData)(t,{modelName:"Alerts",params:e});return k()(r,"alerts",[])||[]})},z=function(){return Object(E.createStructuredSelector)({geocode:Object(v.getGeocodeSelector)(),language:b.localeSelector})},G=function(){return Object(L.createDalSelector)(z(),Object(L.dalFactorySelector)("PollenForecast"),function(e,t){return Object(L.getModelInstantData)(t,{modelName:"PollenForecast",params:e}).vt1pollenforecast})};r.d(t,"b",function(){return l}),r.d(t,!1,function(){return A}),r.d(t,!1,function(){return R}),r.d(t,"a",function(){return Z}),r.d(t,!1,function(){return z}),r.d(t,"c",function(){return G}),r.d(t,!1,function(){return n}),r.d(t,!1,function(){return u}),r.d(t,!1,function(){return s}),r.d(t,!1,function(){return N}),r.d(t,"d",function(){return i})}});