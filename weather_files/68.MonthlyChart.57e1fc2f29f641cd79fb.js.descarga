webpackJsonp([68],{"+gEq":function(t,e,r){"use strict";function a(t){var e=t.monthlyData,r=t.units,a=t.locale;if(!e||0===e.length)return{};var n="e"===r?"F":"C",o="e"===r?"in":"mm",l=function(t){return t.toLocaleString(a,{minimumFractionDigits:1,maximumFractionDigits:1})+"Â°"+n},c=function(t){return t.toLocaleString(a,{minimumFractionDigits:2,maximumFractionDigits:2})+" "+o},i={data:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],position:"bottom"},s={key:X()(),data:[],dataFormat:l,label:"Average High",margin:{top:20,bottom:140}},d={key:X()(),data:[],dataFormat:l,label:"Average Low",margin:{top:20,bottom:140}},h={key:X()(),data:[],dataFormat:l,label:"Record High",margin:{top:140,bottom:60}},u={key:X()(),data:[],dataFormat:l,label:"Record Low",margin:{top:140,bottom:60}},p={key:X()(),data:[],dataFormat:c,label:"Average Precipitation",margin:{top:240,bottom:10}},m={avgHiCount:0,avgLoCount:0,recordHiCount:0,recordLoCount:0,avgPrecipCount:0};e.forEach(function(t){W()(t.avg_hi)||m.avgHiCount++,W()(t.avg_lo)||m.avgLoCount++,W()(t.record_hi)||m.recordHiCount++,W()(t.record_lo)||m.recordLoCount++,W()(t.avg_precip)||m.avgPrecipCount++,s.data.push(t.avg_hi),d.data.push(t.avg_lo),h.data.push(t.record_hi),u.data.push(t.record_lo),p.data.push(t.avg_precip)}),m.avgHiCount===e.length&&(s.data=[],s.status="disabled-avg-hi"),m.avgLoCount===e.length&&(d.data=[],d.status="disabled-avg-lo"),m.recordHiCount===e.length&&(h.data=[],h.status="disabled-record-hi"),m.recordLoCount===e.length&&(u.data=[],u.status="disabled-record-lo"),m.avgPrecipCount===e.length&&(p.data=[],p.status="disabled-avg-precip"),s.max=d.max=Math.max.apply(Math,[].concat(s.data,d.data)),s.min=d.min=Math.min.apply(Math,[].concat(s.data,d.data)),h.max=u.max=Math.max.apply(Math,[].concat(h.data,u.data)),h.min=u.min=Math.min.apply(Math,[].concat(h.data,u.data));var g=s.data.indexOf(s.max),y=d.data.indexOf(s.min);return{labels:i,series:[s,d,h,u,p],warmestMonthIndex:g,coolestMonthIndex:y}}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case lt:return k()({},t,{loading:!0});case ct:return k()({},t,{loaded:!0,loading:!1});case st:return k()({},t,{options:e.payload});case it:return k()({},t,{loading:!1,loaded:!1,error:e.error});default:return t}}function o(){return{type:lt}}function l(){return{type:ct}}function c(t){return{type:st,payload:t}}function i(t){return{type:it,error:t}}function s(t){var e,r=t.reducerKey,a=t.selectors,n=t.actions,o=t.props;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ht.select)(a.isDataLoaded,r);case 2:if(e=t.sent){t.next=8;break}return t.next=6,Object(ht.call)(d,{selectors:a,props:o});case 6:return t.next=8,Object(ht.put)(n.setDataLoaded(r,!0));case 8:return t.next=10,Object(ht.spawn)(h,{selectors:a,props:o});case 10:case"end":return t.stop()}},gt,this)}function d(t){var e,r,a,n,s,d,h,u=t.selectors,p=t.props,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=m.geocodeSelector,y=void 0===g?Object(pt.getGeocodeSelector)():g;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=p.providers,r="01",a="12",n="monthly",t.next=7,Object(ht.put)(o());case 7:return t.next=9,Object(ht.put)(c({start:r,end:a,type:n}));case 9:return t.next=11,Object(ht.select)(u.transactionIdSelector);case 11:return s=t.sent,t.next=14,Object(ht.select)(y);case 14:return d=t.sent,t.next=17,Object(ht.select)(Q.unitSelector);case 17:return h=t.sent,t.next=20,Object(ht.call)(ut.getModelData,{modelName:"Almanac",params:{geocode:d,units:h,start:r,end:a,type:n},method:"execute",providers:e,transactionId:s});case 20:return t.next=22,Object(ht.put)(l());case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t.catch(0),t.next=28,Object(ht.put)(i(t.t0));case 28:case"end":return t.stop()}},yt,this,[[0,24]])}function h(t){var e,r=t.selectors,a=t.props;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ht.fork)(u,{selectors:r,props:a});case 2:return e=t.sent,t.next=5,Object(ht.take)(mt.LOCATION_CHANGE);case 5:return t.next=7,Object(ht.cancel)(e);case 7:case"end":return t.stop()}},bt,this)}function u(t){var e=t.selectors,r=t.props;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ht.takeEvery)(Q.CHANGE_UNIT,d,{selectors:e,props:r});case 2:case"end":return t.stop()}},ft,this)}Object.defineProperty(e,"__esModule",{value:!0});var p={};r.d(p,"transformMonthlyChartData",function(){return a}),r.d(p,"monthlySelector",function(){return V}),r.d(p,"monthlyLoadingSelector",function(){return $}),r.d(p,"monthlyLoadedSelector",function(){return tt});var m={};r.d(m,"REDUCER_KEY",function(){return nt}),r.d(m,"TRANSLATIONS_KEY",function(){return ot}),r.d(m,"LOAD_MONTHLYCHART_PENDING",function(){return lt}),r.d(m,"LOAD_MONTHLYCHART_SUCCESS",function(){return ct}),r.d(m,"LOAD_MONTHLYCHART_FAILURE",function(){return it}),r.d(m,"SET_MONTHLYCHART_OPTIONS",function(){return st});var g={};r.d(g,"loadMonthlyChartPending",function(){return o}),r.d(g,"loadMonthlyChartSuccess",function(){return l}),r.d(g,"setMonthlyChartOptions",function(){return c}),r.d(g,"loadMonthlyChartFailure",function(){return i});var y={};r.d(y,"monthlyChartSaga",function(){return s}),r.d(y,"default",function(){return xt}),r.d(y,"loadMonthlyChartData",function(){return d}),r.d(y,"watch",function(){return h}),r.d(y,"watchSaga",function(){return u});var b=r("Xxa5"),f=r.n(b),x=r("exGp"),v=r.n(x),O=r("2KeS"),w=r("4n+p"),C=r("Evp+"),M=r("woOf"),k=r.n(M),S=r("Zrlr"),T=r.n(S),_=r("zwoO"),L=r.n(_),H=r("Pf15"),N=r.n(H),A=r("iTcp"),E=r.n(A),j=r("uZAE"),D=r("hygk"),R=r.n(D),F=r("HW6M"),z=r.n(F),I=r("Gjda"),P=r.n(I),U=r("PtaM"),K=r.n(U),Y=function(t){function e(){return T()(this,e),L()(this,t.apply(this,arguments))}return N()(e,t),e.prototype.componentDidMount=function(){var t=this.props.almanac,e=t.labels,r=t.series;if(e&&r){var a;this.translateAlmanacData();var n={target:this.target,legend:this.legend};this.props.isMobile?n.tickWidth=60:n.width="auto",this.chart=(a=new j.a(n).labels(this.props.almanac.labels)).series.apply(a,this.props.almanac.series)}},e.prototype.shouldComponentUpdate=function(t){return!R()(this.props.almanac,t.almanac)||this.props.loading!==t.loading||this.props.loaded!==t.loaded},e.prototype.componentDidUpdate=function(){var t=this.props.almanac,e=t.labels,r=t.series;if(e&&r){var a;this.translateAlmanacData(),(a=this.chart.clear().labels(this.props.almanac.labels)).series.apply(a,this.props.almanac.series)}},e.prototype.componentWillUnmount=function(){this.chart&&this.chart.destroy()},e.prototype.getChartLegendsStatus=function(){var t=this.props.almanac.series,e="";return this.props.almanac&&t&&this.props.almanac.series.forEach(function(t){e+=" "+(t.status||"")}),e},e.prototype.translateAlmanacData=function(){var t=this,e=this.props.t&&this.props.t("common~SHORTMONTH")&&this.props.t("common~SHORTMONTH").split("+")||[];e.length>0&&(this.props.almanac.labels.data=e),this.props.almanac.series=this.props.almanac.series.map(function(e){return k()({},e,{label:t.props.t?t.props.t("monthlyChart~"+e.label):e.label})})},e.prototype.render=function(){var t=this,e=this.props,r=e.t,a=e.almanac,n=e.loading,o=e.loaded,l=r("common~MONTH")&&r("common~MONTH").split("+"),c=z()("monthly-chart",{hidden:n||!o});if(!a||a&&!a.labels&&!a.series)return null;var i=this.getChartLegendsStatus(),s=l[a.warmestMonthIndex],d=l[a.coolestMonthIndex];return E.a.createElement("div",{className:c},E.a.createElement("div",{ref:function(e){t.legend=e},className:"monthly-chart-legends "+i}),E.a.createElement("div",{className:"monthly-chart-container"},E.a.createElement("svg",{ref:function(e){t.target=e},className:"monthly-chart-wxyz"})),E.a.createElement("div",{className:"monthly-highlights"},E.a.createElement("span",{className:"monthly-highlight-item",dangerouslySetInnerHTML:{__html:r("monthlyChart~warmestMonth",{month:s})}}),E.a.createElement("span",{className:"monthly-highlight-item",dangerouslySetInnerHTML:{__html:r("monthlyChart~coolestMonth",{month:d})}})))},e}(A.Component);Y.propTypes={almanac:A.PropTypes.object.isRequired,t:A.PropTypes.func.isRequired,isMobile:A.PropTypes.bool,loading:A.PropTypes.bool,loaded:A.PropTypes.bool};var G=P()(K.a)(Y),J=r("bndy"),q=r("J009"),W=r.n(q),Z=r("v8oQ"),X=r.n(Z),Q=r("Xvff"),B=r("SIlE"),V=function(t){var e=t.reducerKey,r=t.selectors;return Object(J.createSelector)(r.almanacMonthlySelector({start:r.selectorFactory(e,["options","start"]),end:r.selectorFactory(e,["options","end"])}),Q.unitSelector,B.localeSelector,function(t,e,r){return a({monthlyData:t||[],units:e,locale:r})})},$=function(t){var e=t.reducerKey,r=t.selectors;return Object(J.createSelector)(r.selectorFactory(e),function(t){return t.loading})},tt=function(t){var e=t.reducerKey,r=t.selectors;return Object(J.createSelector)(r.selectorFactory(e),function(t){return t.loaded})},et=Object(C.translate)(["common","monthlyChart"]),rt=function(t){var e=t.reducerKey,r=t.selectors,a=V({reducerKey:e,selectors:r}),n=$({reducerKey:e,selectors:r}),o=tt({reducerKey:e,selectors:r});return Object(w.connect)(function(t){return{almanac:a(t),loading:n(t),loaded:o(t)}})},at=function(t){return Object(O.compose)(rt(t),et)(G)},nt="monthlyChart",ot="monthlyChart",lt="twc/LOAD_MONTHLYCHART_PENDING",ct="twc/LOAD_MONTHLYCHART_SUCCESS",it="twc/LOAD_MONTHLYCHART_FAILURE",st="twc/SET_MONTHLYCHART_OPTIONS",dt={loading:!1,loaded:!1,almanac:{}},ht=r("egdi"),ut=r("Tiv6"),pt=r("iajE"),mt=r("M1UM"),gt=f.a.mark(s),yt=f.a.mark(d),bt=f.a.mark(h),ft=f.a.mark(u),xt=s,vt=function(){function t(t){return e.apply(this,arguments)}var e=v()(f.a.mark(function t(e){var r,a,o,l;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.injectReducer,a=e.registerTranslations,o=e.runSaga,l=at(e),r(n),a(ot),t.next=6,o(xt,e).done;case 6:return t.abrupt("return",l);case 7:case"end":return t.stop()}},t,this)}));return t}();r.d(e,"loader",function(){return vt}),r.d(e,"container",function(){return at}),r.d(e,"reducer",function(){return n}),r.d(e,"actions",function(){return g}),r.d(e,"constants",function(){return m}),r.d(e,"selectors",function(){return p}),r.d(e,"saga",function(){return xt}),r.d(e,"sagas",function(){return y}),r.d(e,"MonthlyChart",function(){return G});e.default=vt},"/GU6":function(t,e,r){e=t.exports=r("FZ+f")(!1),e.push([t.i,".y-axis-wrapper{display:none}.forecast-graph-container .y-axis-wrapper{display:block}.monthly-chart-container{position:relative;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}[dir] .monthly-chart{padding:0;border:1px solid #dadada;background:#fff;margin-bottom:10px}[dir] .monthly-chart-legends{padding:15px 15px 5px;margin-bottom:10px}.monthly-chart-legends label.legend-label{display:inline-block;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[dir] .monthly-chart-legends label.legend-label{padding:4px 7px;border-radius:2px;cursor:pointer}[dir=ltr] .monthly-chart-legends label.legend-label{margin:5px 10px 0 0}[dir=rtl] .monthly-chart-legends label.legend-label{margin:5px 0 0 10px}[dir] .monthly-chart-legends label.legend-label:first-child{background-color:rgba(239,115,45,.6)}[dir] .monthly-chart-legends label.legend-label:first-child.active{background-color:#ef732d}[dir] .monthly-chart-legends label.legend-label:nth-child(2){background-color:rgba(58,188,255,.6)}[dir] .monthly-chart-legends label.legend-label:nth-child(2).active{background-color:#3abcff}[dir] .monthly-chart-legends label.legend-label:nth-child(3){background-color:rgba(168,10,23,.6)}[dir] .monthly-chart-legends label.legend-label:nth-child(3).active{background-color:#a80a17}[dir] .monthly-chart-legends label.legend-label:nth-child(4){background-color:hsla(0,0%,85%,.6)}[dir] .monthly-chart-legends label.legend-label:nth-child(4).active{background-color:#dadada}[dir] .monthly-chart-legends label.legend-label:nth-child(5){background-color:rgba(0,180,0,.6)}[dir] .monthly-chart-legends label.legend-label:nth-child(5).active{background-color:#00b400}[dir] .monthly-chart-legends.disabled-avg-hi label.legend-label:first-child{cursor:default;background-color:rgba(239,115,45,.6)}[dir] .monthly-chart-legends.disabled-avg-lo label.legend-label:nth-child(2){cursor:default;background-color:rgba(58,188,255,.6)}[dir] .monthly-chart-legends.disabled-record-hi label.legend-label:nth-child(3){cursor:default;background-color:rgba(168,10,23,.6)}[dir] .monthly-chart-legends.disabled-record-lo label.legend-label:nth-child(4){cursor:default;background-color:hsla(0,0%,85%,.6)}[dir] .monthly-chart-legends.disabled-avg-precip label.legend-label:nth-child(5){cursor:default;background-color:rgba(0,180,0,.6)}.monthly-chart-wxyz{display:block}[dir] .monthly-chart-wxyz{margin:0;padding:0}.monthly-chart-wxyz .series-group-item{fill:none;stroke-width:3px}.monthly-chart-wxyz .series-group-item .label{fill:#393939;text-transform:none}.monthly-chart-wxyz .series-group-item .circle{r:4}.monthly-chart-wxyz .series-group-item:first-child .line{stroke:#ef732d}.monthly-chart-wxyz .series-group-item:nth-child(2) .line{stroke:#3abcff}.monthly-chart-wxyz .series-group-item:nth-child(3) .line{stroke:#a80a17}.monthly-chart-wxyz .series-group-item:nth-child(4) .line{stroke:#dadada}.monthly-chart-wxyz .series-group-item:nth-child(5) .line{stroke:#00b400}.monthly-chart-wxyz .series-group-item:first-child .circle{fill:#ef732d}.monthly-chart-wxyz .series-group-item:nth-child(2) .circle{fill:#3abcff}.monthly-chart-wxyz .series-group-item:nth-child(3) .circle{fill:#a80a17}.monthly-chart-wxyz .series-group-item:nth-child(4) .circle{fill:#dadada}.monthly-chart-wxyz .series-group-item:nth-child(5) .circle{fill:#00b400}.monthly-highlights{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}[dir] .monthly-highlights{padding:11px 15px 13px}.monthly-highlight-item{min-width:50%}[dir=ltr] .monthly-highlight-item{padding-right:10px}[dir=rtl] .monthly-highlight-item{padding-left:10px}.monthly-highlight-warmest{color:#aa050e}.monthly-highlight-coolest{color:#0166b3}",""])},PtaM:function(t,e,r){var a=r("/GU6"),n=r("EJnL");"string"==typeof a&&(a=[[t.i,a,""]]),t.exports=a.locals||{},t.exports._getContent=function(){return a},t.exports._getCss=function(){return a.toString()},t.exports._insertCss=function(t){return n(a,t)}}});